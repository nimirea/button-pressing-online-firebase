<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Tongue-Twister Experiment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
	[v-cloak] {display:none}
  </style>

  <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
  <link href="./style.css?version=13" rel="stylesheet" type="text/css" />

</head>
<body>


<div id="app" v-cloak>

  <!-- check for outdated browser -->
  <div v-if="browserOutdated">
    <h1>Unsupported browser</h1>
    <p>It appears you are using an unsupported browser. Please open this page in Edge, Firefox, or Chrome to continue.</p>
  </div>

  <!-- check if the day value is a valid value -->
  <div v-else-if="day > 4 | Number.isNaN(day) | day < 1">
    <h1>Invalid URL</h1>
    <p>Are you sure that you're in the right place? Please make sure you've clicked the correct link, and send a message to your experimenter if the issue persists.</p>
  </div>

  <!-- check if participants CAN continue to the next day -->
  <div v-else-if="prevDayIncomplete & day != 1">
    <h1>Previous day not completed</h1>
    <p>You must complete all sessions in order. If you completed Day {{ day - 1 }} already, please send a message to your experimenter.</p>
  </div>

  <div v-else-if="alreadyDone">
    <h1>Already completed this session</h1>
    <p>You have already completed this session. Did you click on the previous day's link?</p>
  </div>

  <div v-else-if="timingCorrect == 'early'">
    <h1>Too early</h1>
    <p v-if="timingCorrect == 'early'">Please refresh this page in {{ timeRemainingString }}.</p>
  </div>

  <div v-else-if="timingCorrect === 'just right'">

  <p class="recording-bar" v-if="isRecording">recording</p>

  <!-- consent form -->
  <div v-if="!consentGiven">

    <div v-if="completionErrors != false">
      <h1>Sorry!</h1>
      <p>Unfortunately, we could not record your data. If you'd like to get
        credit for this experiment, you will need to complete the session.</p>
      <p>If you believe you received this message in error, please contact
        your experimenter.</p>
      <hr/>
    </div>

    <h1>Consent to Participate in Research (Day {{ day }})</h1>

    <h2>Title of Research Study: <span class="italic">Tongue-Twisters Across Multiple Days</span></h2>

    <h2>Principal Investigator:
    <span class="italic">Matthew Goldrick</span></h2>

    <h2>Student Investigator:
    <span class="italic">Nicole Mirea</span></h2>

    <h2>Supported By:
    <span class="normal-weight">This research is supported by the Northwestern University Department of Linguistics.</span></h2>

    <h2>Key Information about this research study:</h2>

    <p>The following is a short summary of this study to help you decide whether to be a part of this study. Information that is more detailed is explained later on in this form.</p>
    <ul>
      <li>The purpose of this study is to learn more about how people learn to speak words and phrases in a new language.</li>
      <li>You will be asked to read some tongue-twisters aloud while recording yourself. </li>
      <li>This research study will take place across 4 days, with a 1-hour session on each day (4 hours total).</li>
      <li>The main benefit of being in this study is helping scientists better understand language learning.</li>
    </ul>

    <h2>Why am I being asked to take part in this research study?</h2>
    <p>We are asking you to take part in this research study because you have indicated to Prolific that you are a native English speaker living in the United States with no history of speech, language, or hearing impairment. In addition, you responded to our screening survey indicating that you own the equipment necessary to complete the task, and that you would be willing to log into the study at the same time for 4 days in a row.</p>

    <h2>How many people will be in this study?</h2>
    <p>We expect about 32 people will be in this research study.</p>

    <h2>What should I know about participating in a research study?</h2>
    <p>The {{ numerals[day-1] }} of four sessions will begin. These sessions will be spaced 24 hours apart, and each session will take approximately 1 hour to complete.</p>
    <p>Each session will have 3 parts:</p>
    <ol>
      <li>You will first be asked to test out your microphone, to make sure that it is close enough for us to record clear speech.</li>
      <li>Then, you will be asked to put on headphones and read tongue-twisters for about 50 minutes. We will be recording audio during this part of the experiment; <b>allowing us to record audio is mandatory for participating in this research</b>, since we are studying spoken language.</li>
      <li>Finally, you will be asked to complete a post-task survey about your equipment and your sleep habits.</li>
    </ol>
    <p>After completing the post-task survey on days 1-3, you will be asked to complete the next day’s session of this study 24 hours later. The next day’s session will become visible to you on Prolific after completing the current session, but before 24 hours have elapsed.</p>

    <h2>Will being in this study help me in any way?</h2>
    <p>We cannot promise any benefits to you or others from your taking part in this research. However, possible benefits include contributing to science that can help create better language-learning tools.</p>

    <h2>Is there any way being in this study could be bad for me?</h2>
    <p>You may experience boredom and/or frustration during the tongue-twister task, which is quite difficult. You will have the opportunity to take breaks during the study in order to help with this.</p>
    <p>A possible risk for any research is that confidentiality could be compromised – that is, that people outside the study might get hold of confidential study information.  We will do everything we can to minimize this risk, as described in more detail later in this form.</p>

    <h2>What happens if I do not want to be in this research, or I change my mind later?</h2>
    <p>Participation in research is voluntary. You can decide to participate or not to participate.  If you do not want to be in this study or withdraw from the study at any point, your decision will not affect your relationship with Northwestern University/Northwestern Memorial Healthcare.</p>
    <p>You can leave the research at any time and it will not be held against you.</p>
    <p>If you decide to withdraw from this study, the researchers will ask you if information already collected from you can be used.</p>

    <h2>How will the researchers protect my information?</h2>
    <p>After data collection is finished, your Prolific ID will be stripped from your survey answers and recordings, and replaced with a random number. The mapping between Prolific ID and this random number, as well as your recordings and survey answers, will be stored and backed up on a secure server that only project personnel, the IRB staff, and any other individual required by law will be authorized to access.</p>

    <h2>Who will have access to the information collected during this research study?</h2>
    <p>Efforts will be made to limit the use and disclosure of your personal information, including research study records, to people who have a need to review this information. We cannot promise complete secrecy.</p>
    <p>There are reasons why information about you may be used or seen by other people beyond the research team during or after this study. Examples include:</p>

    <ul>
      <li>University officials, government officials, study funders, auditors, and the Institutional Review Board may need access to the study information to make sure the study is done in a safe and appropriate manner.</li>
      <li>The research team may give information to appropriate authorities for reasons of health and safety – for example, if you indicate that you plan to harm yourself or others, or for public health reasons.</li>
      <li>We will not ask you about child abuse, but if you tell us about child abuse or neglect, we may be required or permitted by law or policy to report to authorities.</li>
    </ul>

    <h2>How might the information collected in this study be shared in the future?</h2>
    <p>We will keep the information we collect about you during this research study for study recordkeeping. Your recordings and other information that can directly identify you will be stored securely and separately from the rest of the research information we collect from you.</p>
    <p>De-identified data from this study may be shared with the research community, with journals in which study results are published, and with databases and data repositories used for research. We will remove or code any personal information that could directly identify you before the study data are shared. Despite these measures, we cannot guarantee anonymity of your personal data.</p>
    <p>We would like to share your identifiable information (audio recordings) with the general public and other researchers for future research studies.  We will ask for your consent to do so at the end of this form.  You can be in this current research study without agreeing to future research use of your audio recordings.</p>
    <p>The results of this study could be shared in articles and presentations, but will not include any information that identifies you unless you give permission for use of information that identifies you in articles and presentations.</p>

    <h2>Will I be paid or given anything for taking part in this study?</h2>
    <p>You will receive up to $80 for your participation in this study, granted through Prolific. This money will be paid out in the following way, so that you can still receive compensation for your time even if you choose to withdraw before completing the entire 4-day study:</p>

    <ul>
      <li v-for="(item, index) in compensation">
        After completing Day {{ index + 1 }}'s session<span v-if="index == (day - 1)"> (today)</span>, you will receive ${{ item }}
      </li>
    </ul>

    <h2>Who can I talk to?</h2>
    <p>If you have questions, concerns, or complaints, you can contact Principal Investigator Matt Goldrick (matt-goldrick@northwestern.edu) and Nicole Mirea (nimirea@u.northwestern.edu).</p>
    <p>This research has been reviewed and approved by an Institutional Review Board ("IRB") – an IRB is a committee that protects the rights of people who participate in research studies. You may contact the IRB by phone at (312) 503-9338 or by email at irb@northwestern.edu if:</p>

    <ul>
      <li>Your questions, concerns, or complaints are not being answered by the research team.</li>
      <li>You cannot reach the research team.</li>
      <li>You want to talk to someone besides the research team.</li>
      <li>You have questions about your rights as a research participant.</li>
      <li>You want to get information or provide input about this research.</li>
    </ul>

    <h2>Optional Elements:</h2>
    <p>The following research activities are optional, meaning that you do not have to agree to them in order to participate in the research study. Please indicate your willingness to participate in these optional activities by checking the box next to each activity.</p>

  <p class="flex-contain">
    <input type="checkbox" v-model="audioPermission.presentation" id="presentation">
    <label for="presentation">The researchers may use audio recordings of me in scholarly presentations or publications when hearing my voice might serve to help others understand the research.</label><br/>
  </p>

  <p class="flex-contain">
    <input type="checkbox" v-model="audioPermission.public" id="public">
    <label for="public">I give permission for the recordings of my voice to be included in a database that is available to the general public. </label><br/>
  </p>

    <p>If you want a copy of this consent for your records, you can print it from the screen.</p>
    <p>If you wish to participate, please click the “I Agree” button and you will be taken to the microphone test.</p>
    <p>If you do not wish to participate in this study, please select “I Disagree” or select X in the corner of your browser.</p>

    <div class = "buttonbox">
      <button v-on:click="storeConsent" class="green">I agree! Take me to the experiment</button>
      <button v-on:click="rejected = true;" class="red">I disagree</button>
    </div>
    <p v-if="rejected">Thanks for checking out our experiment. You may close this window now.</p>
  </div>

  <!-- mic check -->
  <div v-if="consentGiven & !expOver & taskList[currentTask].name == 'mic_check'">
    <h1>Task {{currentTask + 1}} of {{taskList.length}}: Equipment Setup</h1>

    <p>
      Welcome! In this part of the session, we'll be setting up your equipment
      for the experiment.
    </p>

    <p>
      Important: please DO <b>NOT</b> use the back button or
      refresh the study at any point during this experiment—you will lose your
      place!
    </p>

    <button
      v-on:click="taskList[currentTask].data.setupConfirm = 'confirmed';"
      v-bind:class="{
                      active: taskList[currentTask].data.setupConfirm == 'confirmed'
                    }"
    >I understand this, and I'm ready to get set up</button>

    <div v-if="taskList[currentTask].data.setupConfirm == 'confirmed'">
    <p>You will need headphones for this experiment. Please connect them now,
      and make sure you are in a quiet place where you won't be disturbed for
      about one hour.</p>

    <p>First: are your headphones wired or wireless?</p>

    <div class = "buttonbox">
      <button
        v-on:click="taskList[currentTask].data.headphoneType = 'wired'"
        v-bind:class="{
                        active: taskList[currentTask].data.headphoneType == 'wired',
                        inactive: taskList[currentTask].data.headphoneType != 'wired' && taskList[currentTask].data.headphoneType != null
                      }"
      >wired</button>
      <button
        v-on:click="taskList[currentTask].data.headphoneType = 'wireless'"
        v-bind:class="{
                        active: taskList[currentTask].data.headphoneType == 'wireless',
                        inactive: taskList[currentTask].data.headphoneType != 'wireless' && taskList[currentTask].data.headphoneType != null
                      }"
      >wireless</button>
    </div>

    <div v-if="taskList[currentTask].data.headphoneType != null">
      <p>We will need to record your voice during this experiment.</p>
      <p>Do your headphones have a microphone on them?</p>

      <div class = "buttonbox">
        <button
          v-on:click="taskList[currentTask].data.headphoneMic = 'yes'"
          v-bind:class="{
                          active: taskList[currentTask].data.headphoneMic == 'yes',
                          inactive: taskList[currentTask].data.headphoneMic != 'yes' && taskList[currentTask].data.headphoneMic != null
                        }"
        >yes</button>
        <button
          v-on:click="taskList[currentTask].data.headphoneMic = 'no'"
          v-bind:class="{
                          active: taskList[currentTask].data.headphoneMic == 'no',
                          inactive: taskList[currentTask].data.headphoneMic != 'no' && taskList[currentTask].data.headphoneMic != null
                        }"
        >no</button>
      </div>

      <div v-if="taskList[currentTask].data.headphoneMic == 'yes' &&
                taskList[currentTask].data.headphoneType == 'wireless'
      ">
        <p>To ensure that we can record stable audio throughout the session,
          we ask that you <b>DO NOT</b> use the microphone on your Bluetooth
          headphones for this experiment. Instead, please use your computer's
          built-in microphone or a standalone USB microphone,
          if you have one available.
        </p>

        <p>Which microphone will you be using today?</p>

        <div class = "buttonbox">
          <button
            v-on:click="taskList[currentTask].data.micType = 'computer\'s built-in microphone'"
            v-bind:class="{
                            active: taskList[currentTask].data.micType == 'computer\'s built-in microphone',
                            inactive: taskList[currentTask].data.micType != 'computer\'s built-in microphone' && taskList[currentTask].data.micType != null
                          }"
          >computer's built-in microphone</button>
          <button
            v-on:click="taskList[currentTask].data.micType = 'standalone USB microphone'"
            v-bind:class="{
                            active: taskList[currentTask].data.micType == 'standalone USB microphone',
                            inactive: taskList[currentTask].data.micType != 'standalone USB microphone' && taskList[currentTask].data.micType != null
                          }"
          >standalone USB microphone</button>
        </div>

        <div v-if="taskList[currentTask].data.micType != null">

          <p>
            At this time, please make sure your computer's default sound input
            device is set to your {{ taskList[currentTask].data.micType }}, and <b>NOT</b> your Bluetooth headphones.
            Here are instructions on how to do this on
            <a href="https://brentsaltzman.com/set-microphone-level-windows-10/">
        Windows 10</a>, <a href="https://brentsaltzman.com/set-microphone-level-windows-7/">
          Windows 7</a>, and
          <a href="https://support.apple.com/guide/mac-help/change-the-sound-input-settings-mchlp2567/mac">
        Mac</a>.
          </p>

          <p>Once you have done so, click the button below to confirm:</p>


            <button
              v-on:click="taskList[currentTask].data.inputStatus = 'confirmed'"
              v-bind:class="{
                              active: taskList[currentTask].data.inputStatus == 'confirmed'
                            }"
            >My default sound input device is correctly configured</button>

        </div>


        </div>

    </div>

    <div v-if="(taskList[currentTask].data.headphoneType == 'wired' &&
                taskList[currentTask].data.headphoneMic == 'yes') ||
              taskList[currentTask].data.headphoneMic == 'no' ||
              taskList[currentTask].data.inputStatus == 'confirmed'">
      <p>Now we'd to check that
        <span v-if="taskList[currentTask].data.micType != null">
          your {{ taskList[currentTask].data.micType }}
        </span>
        <span v-else>
          the microphone you'll be using
          <span v-if="taskList[currentTask].data.headphoneMic == 'no'">
            (either your computer's built-in microphone, or a standalone USB microphone)
          </span>
          <span v-else-if="(taskList[currentTask].data.headphoneType == 'wired' &&
                      taskList[currentTask].data.headphoneMic == 'yes')">
            (either the microphone on your
            headphones, your computer's built-in microphone, or a standalone USB
            microphone)
          </span>
      </span>
      is properly placed.</p>

        <p>
          When you are ready, please press the button below, and then start speaking at a
          comfortable volume.
          Adjust the position of your microphone so that the bar at the bottom of the screen
          is in the "just right" <span class="light-green">(green)</span> range whenever you are speaking,
          and as far to the left as possible when you are not.
          This test will not be stored.
        </p>
        <p>
          (Note: whenever your microphone is active during this experiment, you will
          see a <span class="red">red</span> "recording" bar at the top of your
          screen.)
        </p>
        <button v-on:click="startTask" v-if="!isRecording"><span class="rec-symbols">&#x25cf;</span> start test</button>
        <button v-on:click="stopTask" v-if="isRecording"><span class="rec-symbols">&#9632;</span> stop test and continue</button>

        <!--volume feedback-->
        <p style="text-align:center;">&nbsp;<span v-if="isRecording">{{ soundbar.message }}</span></p>
        <!-- volume meter  -->
        <div
          style="width:100%;height:0.75rem;border:1px solid black; z-index:1"
          v-bind:style="{'background':'linear-gradient(90deg, rgba(0,0,0,1)' +  soundbar.width + '%, rgba(255,255,255,0) ' +  soundbar.width + '%)'}">
          <!-- range marker -->
          <div
            v-bind:style="{'width': soundbar.cutoffs.high - soundbar.cutoffs.low + '%', marginLeft: soundbar.cutoffs.low + '%'}"
            style="background-color: rgb(100, 250, 100); height:2rem; position:relative; top: -0.625rem; z-index: -1"></div>
        </div>
      </div>

    </div>

  </div>

  <!-- main experiment flow (tongue-twisters) -->
  <div v-if="consentGiven && !expOver && taskList[currentTask].name == 'TT'">
    <div v-if="!isStarted">
      <h1>Task {{currentTask + 1}} of {{taskList.length}}: Tongue-Twister Task</h1>
      <p>
        We will now ask you to read some tongue-twisters to the beat of a
        metronome. You will see a single tongue-twister appear on the screen,
        and, after one second, you will hear the metronome begin at a slow pace.
        After four beats (1 repetition of the tongue-twister), the metronome
        will speed up for the next 3 repetitions. Click the button below to hear/see
        an example trial for the tongue-twister "ghib ting pin diss":
      </p>
      <button v-on:click="sampleTrial">&#9658; play example</button>
      <div class="example-trial">
        <div class="stim">
          <img v-bind:class="{ invisible: !sampleTrialPlaying, 'countdown-clock': clockPosition != 'top', 'countdown-clock-behind': clockPosition === 'behind' }" v-bind:src="'countdown/' + trialCountdown.state + '.png'"/>
          <p v-if="sampleTrialPlaying">ghib ting pin diss</p>
          <p v-else>
            <img src="fixcross.png" alt="Fixation cross" class="fixcross"/>
          </p>
          <button class="invisible"></button>
        </div>
      </div>

      <p>
        Please do your best to keep up with the metronome! If you make a
        mistake, DO <b>NOT</b> go back to correct yourself.
      </p>
      <p>
        Please perform this task <b>with your headphones on</b>. You can replay the example trial above and adjust your
        volume to make sure you can comfortably hear the metronome.
      </p>
      <p>
        This task should last approximately {{ stimList.length * .25 }}
        minutes. Your recordings will be stored and uploaded for analysis.
      </p>
      <button v-on:click="startTask">start experiment (recording will begin automatically)</button>
    </div>

    <div v-if="isStarted" class="stim">
      <img v-bind:class="{ invisible: trialEnded, 'countdown-clock': clockPosition != 'top', 'countdown-clock-behind': clockPosition === 'behind' }" v-bind:src="'countdown/' + trialCountdown.state + '.png'"/>
      <p v-if="!trialEnded">
          {{ stimList[currentStim]['twister'] }}
      </p>
      <p v-else>
        <img src="fixcross.png" alt="Fixation cross" class="fixcross"/>
      </p>
      <button v-on:click="nextTrial" v-if="trialEnded">next</button>
      <button v-else class="invisible"></button>
    </div>
  </div>

  <!-- experiment over -->
  <div v-if="(!expOver && taskList[currentTask].name == 'survey')">
    <h1>Task {{currentTask + 1}} of {{taskList.length}}: Post-Task Survey</h1>

    <h2>Equipment</h2>

    <h3>What browser are you using?</h3>

    <input type="radio" v-model="surveyData.browser" value="chrome" id="chrome-browser">
    <label for="chrome-browser">Chrome</label><br/>

    <input type="radio" v-model="surveyData.browser" value="firefox" id="firefox-browser">
    <label for="firefox-browser">Firefox</label><br/>

    <input type="radio" v-model="surveyData.browser" value="ie" id="ie-browser">
    <label for="ie-browser">Microsoft Edge</label><br/>

    <input type="radio" v-model="surveyData.browser" value="safari" id="safari-browser">
    <label for="safari-browser">Safari</label><br/>

    <input type="radio" v-model="surveyData.browser" value="other" id="other-browser">
    <label for="other-browser">Other browser
      <input v-if="surveyData.browser == 'other'" v-model="surveyData.browserOther" placeholder="please specify">
    </label>

    <h3>What operating system are you using?</h3>

    <input type="radio" v-model="surveyData.os" value="windows" id="windows-os">
    <label for="windows-os">Windows</label><br/>

    <input type="radio" v-model="surveyData.os" value="mac" id="mac-os">
    <label for="mac-os">Mac</label><br/>

    <input type="radio" v-model="surveyData.os" value="linux" id="linux-os">
    <label for="linux-os">Linux</label><br/>

    <input type="radio" v-model="surveyData.os" value="other" id="other-os">
    <label for="other-os">Other operating system
      <input v-if="surveyData.os == 'other'" v-model="surveyData.osOther" placeholder="please specify">
    </label>



    <h3>What type of headphones did you use to complete the tongue-twister task?</h3>
    <input type="radio" v-model="surveyData.headphones" value="bt" id="bt-headphones">
    <label for="bt-headphones">Bluetooth headphones</label><br/>

    <input type="radio" v-model="surveyData.headphones" value="wired" id="wired-headphones">
    <label for="wired-headphones">Wired headphones</label><br/>

    <input type="radio" v-model="surveyData.headphones" value="no" id="no-headphones">
    <label for="no-headphones">I did not use any headphones</label>

    <h3>When recording your voice today, which microphone did you use?</h3>

    <input type="radio" v-model="surveyData.mic_type" value="built-in" id="builtin-mic">
    <label for="builtin-mic">Computer's built-in microphone</label><br/>

    <input type="radio" v-model="surveyData.mic_type" value="headphones" id="headphones-mic">
    <label for="headphones-mic">Headphone microphone</label><br/>

    <input type="radio" v-model="surveyData.mic_type" value="other-usb" id="other-usb-mic">
    <label for="other-usb-mic">Other wired/USB microphone</label><br/>

    <input type="radio" v-model="surveyData.mic_type" value="other-wireless" id="other-wireless-mic">
    <label for="other-wireless-mic">Other wireless microphone</label>

    <h2>Sleep</h2>

    <h3>How many hours of sleep did you get last night?</h3>

    <number-input-validated after="hours"
      v-model.number="surveyData.lastNightSleep"
      input-id="surveyData.lastNightSleep"
      @error-catch="updateFormErrors"></number-input-validated>

    <div v-if="day == 1">

      <h3>Sleep Timing Questionnaire (STQ)</h3>

      <p>This questionnaire asks about when you normally sleep. We are interested
        in getting as accurate a picture as we can of the times when you normally
        go to bed and get up. Please think carefully before giving your answers
        and be as specific as you can be. Please answer in terms of a recent
        “normal average week,” not one in which you traveled, vacationed, or had
        family crises.</p>
      <p>Please think of GOOD NIGHT TIME as the time at which you are finally in
        bed and trying to fall asleep.</p>

      <time-input-validated
        superla = "earliest"
        good = "night"
        before = "work day or school day"
        v-model="stq.gn_weekday_earliest"
				input-id="stq.gn_weekday_earliest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "latest"
        good = "night"
        before = "work day or school day"
        v-model="stq.gn_weekday_latest"
				input-id="stq.gn_weekday_latest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "usual"
        good = "night"
        before = "work day or school day"
        v-model="stq.gn_weekday_usual"
				input-id="stq.gn_weekday_usual"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <p>How stable (i.e., similar each night) are your GOOD NIGHT TIMES on a
        night before a work day or school day? (choose one)</p>

      <radio-button-question
          v-model="stq.gn_weekday_similar"
          group-id="stq.gn_weekday_similar"
          @error-catch="updateFormErrors"
      ></radio-button-question>

      <!-- good night before weekend -->
      <time-input-validated
        superla = "earliest"
        good = "night"
        before = "day off (e.g., a weekend)"
        v-model="stq.gn_weekend_earliest"
				input-id="stq.gn_weekend_earliest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "latest"
        good = "night"
        before = "day off (e.g., a weekend)"
        v-model="stq.gn_weekend_latest"
				input-id="stq.gn_weekend_latest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "usual"
        good = "night"
        before = "day off (e.g., a weekend)"
        v-model="stq.gn_weekend_usual"
				input-id="stq.gn_weekend_usual"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <p>How stable (i.e., similar each night) are your GOOD NIGHT TIMES on a
        night before a day off (e.g., a weekend)? (choose one)</p>

      <radio-button-question
          v-model="stq.gn_weekend_similar"
          group-id="stq.gn_weekend_similar"
          @error-catch="updateFormErrors"
      ></radio-button-question>


      <!-- good morning -->
      <p>Please think of GOOD MORNING TIME as the time at which you finally get
        out of bed and start your day.</p>

      <time-input-validated
        superla = "earliest"
        good = "morning"
        before = "work day or school day"
        v-model="stq.gm_weekday_earliest"
				input-id="stq.gm_weekday_earliest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "latest"
        good = "morning"
        before = "work day or school day"
        v-model="stq.gm_weekday_latest"
				input-id="stq.gm_weekday_latest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "usual"
        good = "morning"
        before = "work day or school day"
        v-model="stq.gm_weekday_usual"
				input-id="stq.gm_weekday_usual"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <p>How stable (i.e., similar each night) are your GOOD MORNING TIMES
        before a work day or school day? (choose one)</p>

      <radio-button-question
          v-model="stq.gm_weekday_similar"
          group-id="stq.gm_weekday_similar"
          @error-catch="updateFormErrors"
      ></radio-button-question>

      <!-- good morning before weekend -->
      <time-input-validated
        superla = "earliest"
        good = "morning"
        before = "day off (e.g., a weekend)"
        v-model="stq.gm_weekend_earliest"
				input-id="stq.gm_weekend_earliest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "latest"
        good = "morning"
        before = "day off (e.g., a weekend)"
        v-model="stq.gm_weekend_latest"
				input-id="stq.gm_weekend_latest"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <time-input-validated
        superla = "usual"
        good = "morning"
        before = "day off (e.g., a weekend)"
        v-model="stq.gm_weekend_usual"
				input-id="stq.gm_weekend_usual"
        @error-catch="updateFormErrors"
      ></time-input-validated>

      <p>How stable (i.e., similar each night) are your GOOD MORNING TIMES
        before a day off (e.g., a weekend)? (choose one)</p>

      <radio-button-question
          v-model="stq.gm_weekend_similar"
          group-id="stq.gm_weekend_similar"
          @error-catch="updateFormErrors"
      ></radio-button-question>

      <p>These questions are about how much sleep you use to unwanted wakefulness:</p>

      <p>On most nights, how long, on average does it take you to fall asleep after you start trying?</p>
      <number-input-validated
        after="minutes"
        v-model.number="stq.fall_asleep_try"
        input-id="stq.fall_asleep_try"
        max-val="infinity"
        @error-catch="updateFormErrors">
      </number-input-validated>

      <p>On most nights, how much sleep do you lose, on average, from waking up during the night (e.g. to go to the bathroom)?</p>
      <number-input-validated
        after="minutes"
        v-model.number="stq.waking_loss"
        input-id="stq.waking_loss"
        max-val="infinity"
        @error-catch="updateFormErrors">
      </number-input-validated>
    </div>

    <hr/>

    <h3>Is there anything else you'd like us to know about your experience? (optional)</h3>
    <textarea v-model="surveyData.anything_else"></textarea>

    <button v-on:click="submitSurvey" v-if="
        surveyData.browser != null
        && (surveyData.browser != 'other' || (surveyData.browserOther != null && surveyData.browserOther != ''))
        && surveyData.os != null
        && (surveyData.os != 'other' || (surveyData.osOther != null && surveyData.osOther != ''))
        && surveyData.headphones != null
        && surveyData.mic_type != null
        && perfectFormState === true">
      submit answers
    </button>
    <button v-else class="unclickable">
      please answer all required questions to continue
    </button>

  </div>

  <!-- experiment over -->
  <div v-if="expOver">
    <p>Your response has been successfully submitted. Thank you for taking part in our experiment!</p>
    <p v-if="day != 4">You will be added to the eligibility pool for tomorrow's session on Prolific shortly. Please check back after {{ timeRemainingString }}.</p>
    <p>Please <a v-bind:href="completionURL">click here</a> to get credit on Prolific for today's session.</p>
  </div>
</div>
</div>

<!-- libraries -->
<script type="text/javascript" src="./src/lib/vue.min.js"></script>
<script type="text/javascript" src="./src/lib/Pizzicato_0_6_1.min.js"></script>
<script type="text/javascript" src="./src/lib/papaparse.min.js"></script>
<script type="text/javascript" src="./src/lib/recorder.js"></script>
<script type="text/javascript" src="./src/lib/FileSaver.js"></script>

<!-- firebase includes -->
<script src="/__/firebase/8.0.0/firebase-app.js"></script>
<script src="/__/firebase/8.0.0/firebase-database.js"></script>
<script src="/__/firebase/8.0.0/firebase-functions.js"></script>
<script src="/__/firebase/8.0.0/firebase-storage.js"></script>

<script src="/__/firebase/init.js?useEmulator=true"></script>

<script type="text/javascript" src="./src/main.js"></script>

</body>
</html>
